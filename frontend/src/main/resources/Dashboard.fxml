<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.chart.PieChart?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane fx:controller="com.fintrack.DashboardController"
            xmlns:fx="http://javafx.com/fxml/1"
            xmlns="http://javafx.com/javafx/17"
            prefWidth="960.0" prefHeight="640.0"
            style="-fx-background-color: #0e1624;">  <!-- Deep blue background -->

    <!-- Sidebar -->
    <left>
        <VBox alignment="TOP_CENTER" spacing="20" prefWidth="80"
              style="-fx-background-color: rgba(255,255,255,0.08); -fx-background-radius: 0 20 20 0;">
            <padding><Insets top="30" bottom="30"/></padding>

            <Button text="🏠" styleClass="sidebar-button" onAction="#navigateToHome"/>
            <Button text="💵" styleClass="sidebar-button" onAction="#navigateToReports"/>
            <Button text="📅" styleClass="sidebar-button" onAction="#navigateToCalendar"/>
            <Button text="📊" styleClass="sidebar-button" onAction="#navigateToAnalytics"/>
            <Button text="👤" styleClass="sidebar-button" onAction="#navigateToProfile"/>
            <Button fx:id="themeToggleBtn" text="🌙" styleClass="sidebar-button" onAction="#toggleTheme"/>
        </VBox>
    </left>

    <!-- Topbar -->
    <top>
        <HBox spacing="10" alignment="CENTER_RIGHT" style="-fx-background-color: transparent;">
            <padding><Insets top="15" right="20" bottom="10" left="20"/></padding>
            <Label fx:id="welcomeLabel"
                   text="Welcome back, Dieunie!"
                   style="-fx-text-fill: white; -fx-font-size: 16px; -fx-font-weight: bold;"/>
            <Region HBox.hgrow="ALWAYS"/>
            <Button text="Logout" onAction="#handleLogout"
                    style="-fx-background-color: #FF5733; -fx-text-fill: white; -fx-background-radius: 20; -fx-padding: 5 20;"/>
        </HBox>
    </top>

    <!-- Main Content -->
    <center>
        <VBox spacing="25" alignment="TOP_CENTER" style="-fx-padding: 30;">
            <!-- Summary Cards -->
            <HBox spacing="20" alignment="CENTER">
                <VBox spacing="5" alignment="CENTER"
                      style="-fx-background-color: rgba(255,255,255,0.08); -fx-background-radius: 15; -fx-padding: 15 30;">
                    <Label text="Expenses" style="-fx-text-fill: white; -fx-font-size: 14px;"/>
                    <Label fx:id="expensesLabel" style="-fx-text-fill: white; -fx-font-size: 20px; -fx-font-weight: bold;"/>
                </VBox>
                <VBox spacing="5" alignment="CENTER"
                      style="-fx-background-color: rgba(255,255,255,0.08); -fx-background-radius: 15; -fx-padding: 15 30;">
                    <Label text="Savings" style="-fx-text-fill: white; -fx-font-size: 14px;"/>
                    <Label fx:id="savingsLabel" style="-fx-text-fill: white; -fx-font-size: 20px; -fx-font-weight: bold;"/>
                </VBox>
                <VBox spacing="5" alignment="CENTER"
                      style="-fx-background-color: rgba(255,255,255,0.08); -fx-background-radius: 15; -fx-padding: 15 30;">
                    <Label text="Revenue" style="-fx-text-fill: white; -fx-font-size: 14px;"/>
                    <Label fx:id="revenueLabel" style="-fx-text-fill: white; -fx-font-size: 20px; -fx-font-weight: bold;"/>
                </VBox>
            </HBox>

            <!-- Enlarged Pie Chart -->
            <PieChart fx:id="pieChart"
                      title="Expense Breakdown"
                      prefHeight="800" prefWidth="900"
                      style="-fx-background-color: rgba(255,255,255,0.96); -fx-border-radius: 15; -fx-background-radius: 15; -fx-padding: 15;"/>
        </VBox>
    </center>
</BorderPane>
